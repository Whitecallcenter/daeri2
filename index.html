<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ëŒ€ë¦¬ìš´ì „ ê¸°ì‚¬ë‹˜ ì „ìš© ì¶©ì „ê¸ˆ ë¡œë˜</title>
<style>
body {
  margin:0;
  background:#111;
  color:#fff;
  font-family:system-ui,sans-serif;
  display:flex;
  justify-content:center;
}
.wrap {
  width:100%;
  max-width:420px;
  min-height:100vh;
  padding:20px;
  box-sizing:border-box;
  text-align:center;
}
h1 { margin-bottom:6px; }
.sub { font-size:13px; color:#aaa; }

.machine {
  margin:20px auto;
  min-height:120px;
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:10px;
}
.ball {
  width:60px;
  height:60px;
  border-radius:50%;
  background:radial-gradient(circle at 30% 30%, #fff, #ffcc00);
  display:flex;
  align-items:center;
  justify-content:center;
  color:#000;
  font-weight:bold;
  animation:pop .5s ease;
}
@keyframes pop {
  from { transform:scale(0); opacity:0; }
  to { transform:scale(1); opacity:1; }
}

button {
  width:100%;
  padding:15px;
  font-size:16px;
  border:none;
  border-radius:10px;
  background:#ffcc00;
  color:#000;
  font-weight:bold;
}
button:disabled {
  background:#555;
  color:#999;
}

.box {
  margin-top:14px;
  padding:12px;
  background:#222;
  border-radius:10px;
  font-size:14px;
}
input {
  width:100%;
  padding:12px;
  border-radius:8px;
  border:none;
  font-size:15px;
  margin-top:8px;
}

.highlight { color:#ffcc00; font-weight:bold; }
.small { font-size:12px; color:#bbb; margin-top:6px; }

/* ğŸ”½ í•˜ë‹¨ ë°°ë„ˆ ìŠ¤íƒ€ì¼ */
.bottom-banner {
  margin-top: 24px;
}
.bottom-banner img {
  width: 100%;
  border-radius: 12px;
}
</style>
</head>
<body>

<div class="wrap">
  <h1>ğŸ± í¬ì¸íŠ¸ ë¡œë˜</h1>
  <div class="sub">í¬ì¸íŠ¸ ì ë¦½ ì´ë²¤íŠ¸</div>

  <div class="box">
    ğŸ“± ë³¸ì¸ íœ´ëŒ€í° ë²ˆí˜¸
    <input id="phone" placeholder="01012345678">
    <button style="margin-top:8px" onclick="savePhone()">í™•ì¸</button>
  </div>

  <div class="box">
    ğŸš• ì¶”ì²œ ê¸°ì‚¬ íœ´ëŒ€í° ë²ˆí˜¸
    <input id="recommend" placeholder="01087654321">
    <button style="margin-top:8px" onclick="saveRecommend()">ì¶”ì²œ ê¸°ì‚¬ ë²ˆí˜¸ í™•ì¸</button>
    <div class="small">
      ğŸ‘‰ ê¸°ì‚¬ ì¶”ì²œ í›„ <b>ì‹¤ì œ ê°€ì… í™•ì¸ ì‹œ</b> ì¶”ì²¨ ê¸°íšŒ 1íšŒ ì¶”ê°€
    </div>
  </div>

  <div class="machine" id="machine"></div>

  <button id="drawBtn" disabled>ê³µ êµ´ë¦¬ê¸°</button>

  <div class="box">
    ë‚¨ì€ ê¸°íšŒ: <span id="chance"></span><br>
    ëˆ„ì  í¬ì¸íŠ¸: <span id="point"></span>P
    <div id="exchange" class="highlight" style="display:none;">
      â–¶ 10ë§Œì  ì´ìƒ ì‹œ ì¶©ì „ê¸ˆ êµí™˜ ê°€ëŠ¥
    </div>
  </div>

  <div class="box">
    ğŸ”‘ ê´€ë¦¬ì ì½”ë“œ
    <input id="adminCode" placeholder="ê´€ë¦¬ì ì½”ë“œ ì…ë ¥">
    <button style="margin-top:8px" onclick="adminAdd()">ê¸°íšŒ ì¶”ê°€</button>
  </div>

  <div class="box">
    ğŸ“ ê¸°ì‚¬ ê°€ì… ë¬¸ì˜(í„°ì¹˜ ì‹œ ì—°ê²°)<br>
    <a href="tel:024700071" class="highlight" style="text-decoration:none;">
      02-470-0071
    </a>
  </div>

  <!-- ğŸ”½ í•˜ë‹¨ ì´ë¯¸ì§€ ë°°ë„ˆ -->
  <div class="bottom-banner">
    <img src="https://i.ibb.co/h1BDxV6/your-image.jpg" alt="ê¸°ì‚¬ ëª¨ì§‘ ë°°ë„ˆ">
  </div>

</div>

<script>
const ADMIN_CODE = "DRIVER_OK_2026";
const TARGET_MIN = 80000;
const TARGET_MAX = 90000;

let state = JSON.parse(localStorage.getItem("lottoState")) || {
  phone: "",
  recommend: "",
  chance: 6,
  point: 0
};

const phoneInput = document.getElementById("phone");
const recInput = document.getElementById("recommend");
const drawBtn = document.getElementById("drawBtn");
const machine = document.getElementById("machine");
const chanceEl = document.getElementById("chance");
const pointEl = document.getElementById("point");
const exchangeEl = document.getElementById("exchange");

function save(){
  localStorage.setItem("lottoState", JSON.stringify(state));
}

function render(){
  chanceEl.innerText = state.chance;
  pointEl.innerText = state.point.toLocaleString();
  exchangeEl.style.display = state.point >= 100000 ? "block" : "none";
  drawBtn.disabled = !state.phone || state.chance <= 0;
}

function validPhone(v){
  return /^010\d{8}$/.test(v);
}

function savePhone(){
  const v = phoneInput.value.replace(/[^0-9]/g,"");
  if(!validPhone(v)){
    alert("íœ´ëŒ€í° ë²ˆí˜¸ë¥¼ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”.");
    return;
  }
  state.phone = v;
  save();
  render();
}

function saveRecommend(){
  const v = recInput.value.replace(/[^0-9]/g,"");
  if(!validPhone(v)){
    alert("ì¶”ì²œ ê¸°ì‚¬ íœ´ëŒ€í° ë²ˆí˜¸ë¥¼ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”.");
    return;
  }
  state.recommend = v;
  save();
  alert("ì¶”ì²œ ê¸°ì‚¬ ë²ˆí˜¸ê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.\nê°€ì… í™•ì¸ í›„ ê¸°íšŒê°€ ì¶”ê°€ë©ë‹ˆë‹¤.");
}

function pick(arr){
  return arr[Math.floor(Math.random()*arr.length)];
}

function getReward(){
  if(state.chance === 1){
    let min = TARGET_MIN - state.point;
    let max = TARGET_MAX - state.point;
    min = Math.max(1000, min);
    max = Math.max(min, max);
    return Math.floor((Math.random()*(max-min)+min)/1000)*1000;
  }
  return pick([8000,9000,10000,12000,15000]);
}

drawBtn.onclick = () => {
  if(state.chance <= 0) return;
  const gain = getReward();
  state.chance--;
  state.point += gain;

  const ball = document.createElement("div");
  ball.className = "ball";
  ball.innerText = gain/10000 + "ë§Œ";
  machine.appendChild(ball);

  save();
  render();
};

function adminAdd(){
  const code = document.getElementById("adminCode").value;
  if(code !== ADMIN_CODE){
    alert("ì˜ëª»ëœ ì½”ë“œì…ë‹ˆë‹¤.");
    return;
  }
  if(!state.recommend){
    alert("ì¶”ì²œ ê¸°ì‚¬ ë²ˆí˜¸ê°€ ì—†ìŠµë‹ˆë‹¤.");
    return;
  }
  state.chance++;
  save();
  render();
  alert("ì¶”ì²œ ê¸°ì‚¬ ê°€ì… í™•ì¸ ì™„ë£Œ!\nì¶”ì²¨ ê¸°íšŒ 1íšŒ ì¶”ê°€");
}

if(state.phone) phoneInput.value = state.phone;
if(state.recommend) recInput.value = state.recommend;
render();
</script>
</body>
</html>
