<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ëŒ€ë¦¬ìš´ì „ í¬ì¸íŠ¸ ë¡œë˜</title>

<style>
html,body{
  margin:0;
  height:100%;
  background:#111;
  font-family:sans-serif;
  color:#fff;
}
.container{
  height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  padding:20px;
}
h2{text-align:center}
.info{text-align:center;font-size:20px}
.ball-area{
  display:flex;
  justify-content:center;
  align-items:center;
  height:200px;
}
.ball{
  width:120px;
  height:120px;
  border-radius:50%;
  background:radial-gradient(circle at 30% 30%, #fff, #ffcc00);
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:22px;
  color:#000;
}
.spin{
  animation: spin 0.3s infinite;
}
@keyframes spin{
  0%{transform:rotate(0deg)}
  100%{transform:rotate(360deg)}
}
button{
  width:100%;
  padding:18px;
  font-size:18px;
  border:none;
  border-radius:12px;
  background:#ffcc00;
}
input{
  width:100%;
  padding:14px;
  font-size:16px;
  border-radius:10px;
  border:none;
  margin-top:10px;
}
.log{
  min-height:60px;
  text-align:center;
  color:#ccc;
}
.small{
  font-size:12px;
  color:#777;
  text-align:center;
}
</style>
</head>

<body>

<div class="container">

  <div>
    <h2>ğŸ° ëŒ€ë¦¬ìš´ì „ í¬ì¸íŠ¸ ë¡œë˜</h2>
    <div class="info">í¬ì¸íŠ¸: <span id="point">0</span>P</div>
    <div class="info">ë‚¨ì€ ê¸°íšŒ: <span id="chance">6</span>íšŒ</div>
  </div>

  <div>
    <div class="ball-area">
      <div class="ball" id="ball">?</div>
    </div>
    <button onclick="spinBall()">ê³µ êµ´ë¦¬ê¸° ğŸ¯</button>
    <div class="log" id="log"></div>

    <hr style="border:1px solid #333;margin:20px 0">

    <h3>ğŸš– ê¸°ì‚¬ ì†Œê°œ</h3>
    <input id="phone" placeholder="ê¸°ì‚¬ ì „í™”ë²ˆí˜¸ (-ì—†ì´)">
    <button onclick="invite()">ê¸°ì‚¬ ì†Œê°œí•˜ê³  ê¸°íšŒ +1</button>
  </div>

  <div class="small">
    10ë§ŒP ì´ìƒë¶€í„° ì¶©ì „ê¸ˆ ì „í™˜ ê°€ëŠ¥<br>
    ì´ˆê¸° ê¸°íšŒëŠ” ì ˆëŒ€ 10ë§Œ ë¯¸ë§Œ
  </div>

</div>

<script>
let point = Number(localStorage.getItem("point")) || 0;
let chance = Number(localStorage.getItem("chance")) || 6;
let invited = JSON.parse(localStorage.getItem("invited")||"[]");

update();

function spinBall(){
  if(chance<=0) return log("âŒ ê¸°íšŒ ì—†ìŒ. ê¸°ì‚¬ ì†Œê°œ í•„ìš”");

  const ball = document.getElementById("ball");
  ball.classList.add("spin");
  ball.innerText = "";

  setTimeout(()=>{
    ball.classList.remove("spin");

    let reward;
    if(invited.length < 3){
      reward = pick([1000,3000,5000,7000,10000]);
    }else{
      reward = pick([10000,20000,30000]);
    }

    point += reward;
    chance--;
    ball.innerText = reward.toLocaleString()+"P";
    log(`ğŸ‰ ${reward.toLocaleString()}P ë‹¹ì²¨`);

    save();
    update();
  },2000);
}

function invite(){
  let phone = document.getElementById("phone").value.trim();
  if(phone.length<10) return log("ì „í™”ë²ˆí˜¸ í™•ì¸");
  if(invited.includes(phone)) return log("ì´ë¯¸ ë“±ë¡ëœ ê¸°ì‚¬");

  invited.push(phone);
  chance++;
  log("âœ… ê¸°ì‚¬ ì†Œê°œ ì™„ë£Œ! ê¸°íšŒ +1");

  save();
  update();
}

function pick(arr){
  return arr[Math.floor(Math.random()*arr.length)];
}

function save(){
  localStorage.setItem("point", point);
  localStorage.setItem("chance", chance);
  localStorage.setItem("invited", JSON.stringify(invited));
}

function update(){
  document.getElementById("point").innerText = point.toLocaleString();
  document.getElementById("chance").innerText = chance;
}

function log(msg){
  document.getElementById("log").innerText = msg;
}
</script>

</body>
</html>
